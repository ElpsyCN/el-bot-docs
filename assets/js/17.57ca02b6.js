(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{403:function(t,a,s){"use strict";s.r(a);var n=s(28),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"终端命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#终端命令"}},[t._v("#")]),t._v(" 终端命令")]),t._v(" "),s("blockquote",[s("p",[t._v("这里的终端并非指传统的终端命令行。而是你和机器人文本信息的命令交互。"),s("br"),t._v("\n本质是将终端命令从控制台移到了 QQ。")])]),t._v(" "),s("p",[t._v("基于 "),s("a",{attrs:{href:"https://github.com/tj/commander.js/",target:"_blank",rel:"noopener noreferrer"}},[t._v("commander.js"),s("OutboundLink")],1),t._v(" 实现，因此你也可以遵循 commander 文档来自定义它。")]),t._v(" "),s("blockquote",[s("p",[t._v("el-bot@version >= 0.5.0")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("el "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("command"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("你可以直接向机器人发送命令来调用\n（终端）代表仅在终端可用")])]),t._v(" "),s("chat-panel",{attrs:{title:"聊天记录"}},[s("chat-message",{attrs:{id:910426929,nickname:"云游君"}},[t._v("el -h")]),t._v(" "),s("chat-message",{attrs:{id:712727945,nickname:"小云"}},[t._v("Usage: el <command> [options]"),s("br"),s("br"),t._v("命令："),s("br"),t._v("  el echo <message>  回声"),s("br"),t._v("  el sleep           休眠"),s("br"),t._v("  el restart         重启"),s("br"),s("br"),t._v("Options:"),s("br"),t._v("  --help, -h     显示帮助信息                                             [布尔]"),s("br"),t._v("  --version, -v  显示版本号                                               [布尔]"),s("br"),t._v("  --about, -a    关于\n")])],1),t._v(" "),s("h2",{attrs:{id:"options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[t._v("#")]),t._v(" Options")]),t._v(" "),s("chat-panel",{attrs:{title:"聊天记录"}},[s("chat-message",{attrs:{id:910426929,nickname:"云游君"}},[t._v("el -a")]),t._v(" "),s("chat-message",{attrs:{id:712727945,nickname:"小云"}},[t._v("GitHub: https://github.com/elpsycn/el-bot")])],1),t._v(" "),s("ul",[s("li",[s("code",[t._v("--version")]),t._v(", "),s("code",[t._v("-v")]),t._v(": 显示版本号")]),t._v(" "),s("li",[s("code",[t._v("--help")]),t._v(", "),s("code",[t._v("-h")]),t._v(": 显示帮助信息")]),t._v(" "),s("li",[s("code",[t._v("--about")]),t._v(","),s("code",[t._v("-a")]),t._v(": 关于")])]),t._v(" "),s("h2",{attrs:{id:"commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#commands"}},[t._v("#")]),t._v(" Commands")]),t._v(" "),s("chat-panel",{attrs:{title:"聊天记录"}},[s("chat-message",{attrs:{id:910426929,nickname:"云游君"}},[t._v("el echo 早")]),t._v(" "),s("chat-message",{attrs:{id:712727945,nickname:"小云"}},[t._v("早")])],1),t._v(" "),s("ul",[s("li",[s("code",[t._v("echo")]),t._v(" <"),s("code",[t._v("message")]),t._v(">: 回声")]),t._v(" "),s("li",[s("code",[t._v("plugins")]),t._v(": 显示当前加载的插件列表（包括版本及描述）\n"),s("ul",[s("li",[s("code",[t._v("-l <type>")]),t._v(": 列出对应类型的插件列表，如 "),s("code",[t._v("el plugins -l official")]),t._v(": 列出已加载的官方插件\n")])])]),t._v(" "),s("li",[s("code",[t._v("restart")]),t._v(" : 重启")])]),t._v(" "),s("h2",{attrs:{id:"自定义终端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义终端"}},[t._v("#")]),t._v(" 自定义终端")]),t._v(" "),s("p",[t._v("一个简单的示例")]),t._v(" "),s("blockquote",[s("p",[t._v("更多属性/参数请参见 "),s("a",{attrs:{href:"https://github.com/tj/commander.js/",target:"_blank",rel:"noopener noreferrer"}},[t._v("commander.js"),s("OutboundLink")],1),t._v(" 文档")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("本质上 el-bot 基于 commander 修改了其原型链，使得原本在终端输出的内容，直接通过机器人返回。并添加了一些默认的指令。")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" cli "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  cli\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"一个测试指令"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("option")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-l, --list"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"列表？"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"没有输入选项"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("chat-panel",{attrs:{title:"聊天记录"}},[s("chat-message",{attrs:{id:910426929,nickname:"云游君"}},[t._v("el test -l")]),t._v(" "),s("chat-message",{attrs:{id:712727945,nickname:"小云"}},[t._v("列表？")])],1),t._v(" "),s("h2",{attrs:{id:"自定义任务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义任务"}},[t._v("#")]),t._v(" 自定义任务")]),t._v(" "),s("blockquote",[s("p",[t._v("开发中...")])]),t._v(" "),s("p",[t._v("你可以预定义一些脚本，让其可以通过机器人指令执行。")]),t._v(" "),s("blockquote",[s("p",[t._v("这些脚本，只有你设置了 "),s("code",[t._v("master")]),t._v(" 和 "),s("code",[t._v("admin")]),t._v(" 中的 QQ 有权限执行。见配置讲解。")])]),t._v(" "),s("p",[t._v("譬如我想要通过机器人指令重启服务器上的 Minecraft 服务器：")]),t._v(" "),s("chat-panel",{attrs:{title:"聊天记录"}},[s("chat-message",{attrs:{id:910426929,nickname:"云游君"}},[t._v("el run start:mc")])],1),t._v(" "),s("ul",[s("li",[s("code",[t._v("name")]),t._v(": 指令名")]),t._v(" "),s("li",[s("code",[t._v("desc")]),t._v(": 简要描述")]),t._v(" "),s("li",[s("code",[t._v("do")]),t._v(": 指令文本数组")])]),t._v(" "),s("p",[t._v("默认上一条指令执行完，才会执行下一条指令。")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cli")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" stop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mc\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("desc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 停止 MC 服务器\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("do")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" pkill "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("P `cat mc.pid`\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" rm mc.pid\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mc\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("desc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 启动 MC 服务器\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("do")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd /opt/mc "),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" nohup java "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Xms1024M "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Xmx2048M "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("jar server.jar nogui & echo $"),s("span",{pre:!0,attrs:{class:"token tag"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" mc.pid\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" restart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mc\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("desc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 重启 MC 服务器\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("do")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" el run stop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mc\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" el run start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mc\n")])])])],1)}),[],!1,null,null,null);a.default=e.exports}}]);